+function(t){"use strict";function e(e){var a,s=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return t(s)}function a(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),n=t.extend({},s.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&n.toggle&&/show|hide/.test(e)&&(n.toggle=!1),i||a.data("bs.collapse",i=new s(this,n)),"string"==typeof e&&i[e]()})}var s=function(e,a){this.$element=t(e),this.options=t.extend({},s.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};s.VERSION="3.3.4",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){i&&i.length&&(a.call(i,"hide"),e||i.data("bs.collapse",null));var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var r=t.camelCase(["scroll",l].join("-"));this.$element.one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[l](this.$element[0][r])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[a](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(s.TRANSITION_DURATION):i.call(this)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,s){var i=t(s);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var i=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var i=t(this);i.attr("data-target")||s.preventDefault();var n=e(i),l=n.data("bs.collapse"),o=l?"toggle":i.data();a.call(n,o)})}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb3RzdHJhcC9jb2xsYXBzZS5qcyJdLCJuYW1lcyI6WyIkIiwiZ2V0VGFyZ2V0RnJvbVRyaWdnZXIiLCIkdHJpZ2dlciIsImhyZWYiLCJ0YXJnZXQiLCJhdHRyIiwicmVwbGFjZSIsIlBsdWdpbiIsIm9wdGlvbiIsInRoaXMiLCJlYWNoIiwiJHRoaXMiLCJkYXRhIiwib3B0aW9ucyIsImV4dGVuZCIsIkNvbGxhcHNlIiwiREVGQVVMVFMiLCJ0b2dnbGUiLCJ0ZXN0IiwiZWxlbWVudCIsIiRlbGVtZW50IiwiaWQiLCJ0cmFuc2l0aW9uaW5nIiwicGFyZW50IiwiJHBhcmVudCIsImdldFBhcmVudCIsImFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyIsIlZFUlNJT04iLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwicHJvdG90eXBlIiwiZGltZW5zaW9uIiwiaGFzV2lkdGgiLCJoYXNDbGFzcyIsInNob3ciLCJhY3RpdmVzRGF0YSIsImFjdGl2ZXMiLCJjaGlsZHJlbiIsImxlbmd0aCIsInN0YXJ0RXZlbnQiLCJFdmVudCIsInRyaWdnZXIiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJjYWxsIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNvbXBsZXRlIiwic3VwcG9ydCIsInRyYW5zaXRpb24iLCJzY3JvbGxTaXplIiwiY2FtZWxDYXNlIiwiam9pbiIsIm9uZSIsInByb3h5IiwiZW11bGF0ZVRyYW5zaXRpb25FbmQiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiZmluZCIsImkiLCJlbmQiLCJpc09wZW4iLCJ0b2dnbGVDbGFzcyIsIm9sZCIsImZuIiwiY29sbGFwc2UiLCJDb25zdHJ1Y3RvciIsIm5vQ29uZmxpY3QiLCJkb2N1bWVudCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiJHRhcmdldCIsImpRdWVyeSJdLCJtYXBwaW5ncyI6IkNBU0MsU0FBVUEsR0FDVCxZQWtKQSxTQUFTQyxHQUFxQkMsR0FDNUIsR0FBSUMsR0FDQUMsRUFBU0YsRUFBU0csS0FBSyxp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UCxFQUFFOEQsR0FBR0MsU0FBU0MsWUFBY2pELEVBTTVCZixFQUFFOEQsR0FBR0MsU0FBU0UsV0FBYSxXQUV6QixNQURBakUsR0FBRThELEdBQUdDLFNBQVdGLEVBQ1RwRCxNQU9UVCxFQUFFa0UsVUFBVUMsR0FBRyw2QkFBOEIsMkJBQTRCLFNBQVVDLEdBQ2pGLEdBQUl6RCxHQUFVWCxFQUFFUyxLQUVYRSxHQUFNTixLQUFLLGdCQUFnQitELEVBQUVDLGdCQUVsQyxJQUFJQyxHQUFVckUsRUFBcUJVLEdBQy9CQyxFQUFVMEQsRUFBUTFELEtBQUssZUFDdkJKLEVBQVVJLEVBQU8sU0FBV0QsRUFBTUMsTUFFdENMLEdBQU9tQyxLQUFLNEIsRUFBUzlELE1BR3ZCK0QiLCJmaWxlIjoiYm9vdHN0cmFwL2NvbGxhcHNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjMuNFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY29sbGFwc2VcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNSBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLiR0cmlnZ2VyICAgICAgPSAkKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXRhcmdldD1cIiMnICsgZWxlbWVudC5pZCArICdcIl0nKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB7XG4gICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuJGVsZW1lbnQsIHRoaXMuJHRyaWdnZXIpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMy40J1xuXG4gIENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzNTBcblxuICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICB0b2dnbGU6IHRydWVcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxuICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBhY3RpdmVzRGF0YVxuICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5jaGlsZHJlbignLnBhbmVsJykuY2hpbGRyZW4oJy5pbiwgLmNvbGxhcHNpbmcnKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgfVxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy4kdHJpZ2dlclxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UgaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmdldFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHRoaXMub3B0aW9ucy5wYXJlbnQgKyAnXCJdJylcbiAgICAgIC5lYWNoKCQucHJveHkoZnVuY3Rpb24gKGksIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhnZXRUYXJnZXRGcm9tVHJpZ2dlcigkZWxlbWVudCksICRlbGVtZW50KVxuICAgICAgfSwgdGhpcykpXG4gICAgICAuZW5kKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MgPSBmdW5jdGlvbiAoJGVsZW1lbnQsICR0cmlnZ2VyKSB7XG4gICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG5cbiAgICAkZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgICR0cmlnZ2VyXG4gICAgICAudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcsICFpc09wZW4pXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhcmdldEZyb21UcmlnZ2VyKCR0cmlnZ2VyKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgdGFyZ2V0ID0gJHRyaWdnZXIuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgfHwgKGhyZWYgPSAkdHJpZ2dlci5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcblxuICAgIHJldHVybiAkKHRhcmdldClcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb25zLnRvZ2dsZSAmJiAvc2hvd3xoaWRlLy50ZXN0KG9wdGlvbikpIG9wdGlvbnMudG9nZ2xlID0gZmFsc2VcbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcblxuICAgIGlmICghJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICB2YXIgJHRhcmdldCA9IGdldFRhcmdldEZyb21UcmlnZ2VyKCR0aGlzKVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcbiAgfSlcblxufShqUXVlcnkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9